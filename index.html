<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Мой персональный сайт</title>
  <link rel="icon" href="assets/favicon.png">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <img src="assets/logo.png" alt="Логотип" class="logo">
    <nav>
      <a href="#main">Главное</a>
      <a href="#trips">Поездки</a>
      <a href="#films">Фильмы</a>
      <a href="#it">IT</a>
      <a href="#work">Страдание</a>
      <a href="#boast">Похвастаться</a>
      <a href="#music">Музыка</a>
    </nav>
  </header>

  <main>
    <section id="main" class="hero">
      <img src="assets/hero.jpg" alt="Главное">
      <div class="overlay">
        <h1>Добро пожаловать!</h1>
        <p>На этом сайте я раскажу как я провел лето, а точнее: поездки,фильмы и сериалы которые я посмотрел, как я работал и немного похвастаюсь.</p>
      </div>
    </section>

    <section id="trips" class="card">
      <h2>Поездки</h2>
      <img src="assets/trips.jpg" alt="Поездка" class="img">
      <p>Недавно мы с друзьями выезжали на шашлыки. Жарили мясо, слушали музыку и смеялись до заката. Атмосфера природы, запах дыма и хорошая компания сделали этот день незабываемым.</p>
      <p>Также я гулял в Москве. Красная площадь, река, старые улочки и современные кофейни — контраст, который впечатлил. Сделал кучу фотографий и зарядился энергией города.</p>
    </section>

    <section id="films" class="card">
      <h2>Фильмы и сериалы</h2>
      <div class="grid">
        <div class="film">
          <img src="assets/films.jpg" alt="Лило и Стич">
          <h3>Лило и Стич</h3>
          <p>Добрый мультфильм о семье и дружбе. Красочная анимация, много юмора и трогательных моментов.</p>
        </div>
        <div class="film">
          <img src="assets/wane.jpg" alt="Уэйн">
          <h3>Уэйн</h3>
          <p>Сериал о подростке с непростым характером, который отправляется в путешествие ради своей мечты. Драйвовый сюжет и необычная атмосфера.</p>
        </div>
        <div class="film">
          <img src="assets/kpop.jpg" alt="Кейпоп: охотницы на демонов">
          <h3>Кейпоп: охотницы на демонов</h3>
          <p>Оригинальная идея — группа идолов сражается с демонами. Микс музыки, боевика и фэнтези.</p>
        </div>
        <div class="film">
          <img src="assets/jujustsu.jpg" alt="Магическая битва 0">
          <h3>Магическая битва 0</h3>
          <p>Фильм-аниме во вселенной «Jujutsu Kaisen». Захватывающие бои, магия и драматичная история.</p>
        </div>
      </div>
    </section>

    <section id="it" class="card">
      <h2>IT</h2>
      <img src="assets/quest3.jpg" alt="Meta Quest 3" class="img">
      <p>Я обновил шлем Meta Quest 3. Сначала сделал резервное копирование данных, потом скачал прошивку и установил её вручную. Обновление добавило новые функции отслеживания рук и оптимизацию графики.</p>
      <p>После этого протестировал несколько игр — производительность выросла, задержка уменьшилась. Особенно впечатлили новые возможности для работы с виртуальными экранами: можно сидеть в VR и использовать несколько рабочих столов одновременно.</p>
    </section>

    <section id="work" class="card">
      <h2>Страдание</h2>
      <img src="assets/work.jpg" alt="Работа" class="img">
      <p>Два дня работал грузчиком. С 7 утра и до позднего вечера — переноска коробок, погрузка фур, сортировка паллетов. Физически это оказалось очень тяжело: усталость накапливалась с каждой минутой.</p>
      <p>Но я понял ценность командной работы: без взаимопомощи мы бы не справились. Этот опыт закалил и научил распределять силы.</p>
    </section>

    <section id="boast" class="card">
      <h2>Похвастаться</h2>
      <img src="assets/+rep.jpg" alt="Похвастаться" class="img">
      <p>Наконец-то я купил Meta Quest 3! Ощущения невероятные: яркая картинка, лёгкость устройства и удобные контроллеры. Первые впечатления — это совершенно новый уровень виртуальной реальности.</p>
      <p>Я планирую использовать его не только для игр, но и для обучения, работы с 3D-моделями и общения. Это шаг в будущее технологий!</p>
    </section>

    <section id="music" class="card">
      <h2>Музыка</h2>
      <div class="music-controls">
        <div class="music-info">Фоновой трек</div>
        <div style="display:flex;gap:8px;align-items:center;">
          <button id="music-toggle" class="music-btn">Включить</button>
          <button id="music-volume" class="music-btn secondary">Уменьшить громкость</button>
        </div>
        <div class="music-info" id="music-status" style="margin-top:6px;">Остановлено</div>
      </div>
    </section>
  </main>

  <footer>
    <p>© 2025 Мой сайт</p>
  </footer>
<script>
document.addEventListener('DOMContentLoaded', ()=>{
  const audio = new Audio('assets/interaction.wav');
  let playTimer = null;

  function play300ms() {
    try { audio.currentTime = 0; } catch (e) { /* ignore if not allowed yet */ }
    const p = audio.play();
    if (playTimer) { clearTimeout(playTimer); playTimer = null; }
    playTimer = setTimeout(() => {
      try { audio.pause(); audio.currentTime = 0; } catch (e) { }
      playTimer = null;
    }, 300);
    if (p && typeof p.catch === 'function') p.catch(()=>{});
  }

  // Play for images that are NOT inside a .film (images inside .film will be handled by the .film handler)
  document.querySelectorAll('img').forEach(img=>{
    if (img.closest('.film')) return;
    img.addEventListener('click', play300ms);
  });

  // Play when clicking a film block (covers image, title, text inside .film)
  document.querySelectorAll('.film').forEach(f=>{
    f.addEventListener('click', play300ms);
  });

  audio.addEventListener('ended', ()=>{
    if (playTimer) { clearTimeout(playTimer); playTimer = null; }
    try { audio.currentTime = 0; } catch(e){}
  });

  // Background music controls
  const bgAudio = new Audio('assets/Shotgun_Willy_-_Bombs_Away_77026965.mp3');
  bgAudio.loop = true;
  let bgWasLow = false;
  let prevVolume = bgAudio.volume;

  const musicToggle = document.getElementById('music-toggle');
  const musicVolume = document.getElementById('music-volume');
  const musicStatus = document.getElementById('music-status');

  if (musicToggle) {
    musicToggle.addEventListener('click', () => {
      if (bgAudio.paused) {
        const p = bgAudio.play();
        if (p && typeof p.catch === 'function') p.catch(()=>{});
        musicToggle.textContent = 'Остановить';
        musicStatus.textContent = 'Играет';
      } else {
        bgAudio.pause();
        try { bgAudio.currentTime = 0; } catch(e){}
        musicToggle.textContent = 'Включить';
        musicStatus.textContent = 'Остановлено';
      }
    });
  }

  if (musicVolume) {
    musicVolume.addEventListener('click', () => {
      if (!bgWasLow) {
        prevVolume = bgAudio.volume;
        bgAudio.volume = 0.1;
        bgWasLow = true;
        musicVolume.textContent = 'Вернуть громкость';
      } else {
        bgAudio.volume = prevVolume || 1.0;
        bgWasLow = false;
        musicVolume.textContent = 'Уменьшить громкость';
      }
    });
  }
});
</script>
</body>
</html>